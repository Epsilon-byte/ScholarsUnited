extends layout

block content
  .container
    section.main-content
      .dashboard-box.calendar-box
        h1 ğŸ“… Study Events Calendar

        // ğŸ” Filter Form
        form(action='/calendar', method='GET', class='calendar-filter-form')
          .form-group
            label(for='filter') Filter by keyword or date:
            input(type='text', name='filter', id='filter', placeholder='Search events...', value=filter || '')
            button.btn.btn-secondary(type='submit') Filter

        // ğŸ“… Calendar Table
        table.calendar-table
          thead
            tr
              th Date
              th Time
              th Event Name
              th Actions
          tbody
            if events && Array.isArray(events) && events.length
              each event in events
                tr
                  td= event.date || 'Invalid Date'
                  td= event.time || 'Invalid Time'
                  td= event.Title
                  td
                    form(action=`/events/join/${event.EventID}`, method="POST", style="display:inline;")
                      button.btn.btn-primary(type="submit") Join
            else
              tr
                td(colspan="4") No events available
