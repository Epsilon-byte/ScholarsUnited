extends layout

block content
  h1 Messages

  if messages && messages.length
    ul
      each message in messages
        li
          strong Sender: #{message.sender} (ID: #{message.senderId})
          br
          strong Receiver: #{message.receiver} (ID: #{message.receiverId})
          p= message.content
          small Sent: #{message.timestamp}

          if user && user.id === message.senderId
            form(action=`/messages/delete/${message.messageId}` method="POST" style="display:inline")
              button(type="submit" style="color: red; background: none; border: none; cursor: pointer") 🗑️ Delete 
  else
    p No messages available.

  h2 Send a Message
  form(action='/messages/send' method='POST')
    label(for='receiverId') To (User ID):
    input(type='text' name='receiverId' required)

    label(for='content') Message:
    textarea(name='content' required)


    button(type='submit') Send Message
