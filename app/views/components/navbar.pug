header.navbar
  .navbar-left
    img.logo(src="/SB.png", alt="Logo")
    span.logo-text Scholars United
  
  .navbar-right
    .theme-switch-wrapper
      span.theme-icon.sun-icon
        i.fas.fa-sun
      label.theme-switch
        input#theme-toggle-checkbox(type="checkbox")
        span.slider
      span.theme-icon.moon-icon
        i.fas.fa-moon

  button.menu-toggle(onclick="toggleMenu()") ☰

  // Slide-in menu
  #overlay(onclick="toggleMenu()")
  nav.menu-drawer(id="menuDrawer")
    .menu-header
      span Menu
      button.menu-close(onclick="toggleMenu()") ✕
    ul.menu-links
      li: a(href="/dashboard") Dashboard
      li: a(href="/calendar") Study Calendar
      li: a(href="/events") Upcoming Events
      li: a(href="/courses") Courses
      li: a(href="/messaging") Messaging      
      li: a(href="/matchmaking") Matchmaking
    .menu-footer
      a(href="/profile") Profile
      a(href="/logout") Logout

  script.
    document.addEventListener('DOMContentLoaded', function() {
      function toggleMenu() {
        const drawer = document.getElementById('menuDrawer');
        const overlay = document.getElementById('overlay');
        if (drawer && overlay) {
          drawer.classList.toggle('open');
          overlay.classList.toggle('show');
        }
      }

      // Attach event to menu toggle button
      const menuToggle = document.querySelector('.menu-toggle');
      if (menuToggle) {
        menuToggle.addEventListener('click', function(e) {
          e.preventDefault();
          toggleMenu();
        });
      }

      // Attach event to menu close button
      const menuClose = document.querySelector('.menu-close');
      if (menuClose) {
        menuClose.addEventListener('click', function(e) {
          e.preventDefault();
          toggleMenu();
        });
      }

      // Attach event to overlay
      const overlay = document.getElementById('overlay');
      if (overlay) {
        overlay.addEventListener('click', function() {
          toggleMenu();
        });
      }

      // Close menu when clicking on links
      document.querySelectorAll('.menu-links a').forEach(link => {
        link.addEventListener('click', () => {
          document.getElementById('menuDrawer').classList.remove('open');
          document.getElementById('overlay').classList.remove('show');
        });
      });

      // Make global toggleMenu function available
      window.toggleMenu = toggleMenu;
    });
